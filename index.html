<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crafted in El Castillo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 10px;
            background: #f5f5f5;
        }
        
        h1 {
            text-align: center;
            font-size: 24px;
            margin: 10px 0;
        }
        
        .language-tabs {
            display: flex;
            gap: 0;
            margin-bottom: 10px;
        }
        
        .lang-tab {
            flex: 1;
            padding: 12px;
            background: white;
            border: none;
            font-size: 16px;
            cursor: pointer;
            border-bottom: 3px solid #ddd;
        }
        
        .lang-tab.active {
            border-bottom: 3px solid #D946EF;
            font-weight: bold;
        }
        
        .subtitle {
            text-align: center;
            padding: 0 20px 15px 20px;
            color: #666;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .subtitle-title {
            font-weight: normal;
            font-size: 15px;
            margin-bottom: 2px;
            color: #555;
        }
        
        .subtitle-text {
    text-align: justify;
    text-justify: inter-word;
    max-width: 800px;
    margin: 0 auto;
    hyphens: auto;
}
        
        .filters {
            background: white;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
        }
        
        select {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 8px;
        }
        
        #subcategoryFilter {
            display: none;
        }
        
        .vendor {
            background: white;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            border-left: 4px solid #D946EF;
        }
        
        .vendor-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        .vendor-detail {
            font-size: 14px;
            color: #666;
            margin: 2px 0;
        }
        
        .vendor-category {
            font-size: 13px;
            color: #999;
            margin-bottom: 4px;
        }
        
        .vendor-product {
            font-size: 15px;
            color: #333;
            font-weight: 500;
            margin-bottom: 6px;
        }
        
        .vendor-contact {
            font-size: 14px;
            color: #666;
            margin-top: 6px;
        }
        
        .whatsapp {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }
        
        .phone {
            color: #666;
            margin-right: 12px;
        }
        
        .count {
            text-align: center;
            color: #666;
            margin: 10px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1 id="title">Crafted in El Castillo</h1>
    <div class="subtitle">
        <div class="subtitle-title" id="subtitleTitle"></div>
        <div class="subtitle-text" id="subtitleText"></div>
    </div>
    
    <div class="language-tabs">
        <button class="lang-tab active" onclick="switchLanguage('en')">English</button>
        <button class="lang-tab" onclick="switchLanguage('es')">Espa침ol</button>
    </div>
    
    <div class="filters">
        <select id="categoryFilter" onchange="filterVendors()">
            <option value="all">All Categories</option>
        </select>
        <select id="subcategoryFilter" onchange="filterVendors()">
            <option value="all">All Subcategories</option>
        </select>
    </div>
    
    <div class="count" id="count"></div>
    <div id="vendorList"></div>

    <script>
        let currentLang = 'en';
        let selectedCategory = 'all';

        const translations = {
            en: {
                title: "Crafted in El Castillo",
                subtitleTitle: "Where does your money go?",
                subtitleText: "El Castillo was built by the hands that live and dream here. Every local business is a piece of someone's soul. Your money matters, a lot. Depending on where you spend it. When you shop at a chain store, most of it leaves immediately. To corporate offices, shareholders, distant banks. But when you shop at a local business, your money stays right here. It pays bakers, cheese makers, cashiers, helps entrepreneurs cover their rent. Keeps our town's businesses open. That money circulates from hand to hand, strengthening the entire community.",
                allCategories: "All Categories",
                allSubcategories: "All Subcategories",
                vendors: "vendors",
                vendor: "vendor"
            },
            es: {
                title: "Elaborado en El Castillo",
                subtitleTitle: "쮸 d칩nde va tu dinero?",
                subtitleText: "El Castillo fue construido por los manos que viven y sue침an aqu칤. Cada negocio local es un pedazo del alma de alguien. Tu dinero importa, y mucho. Dependiendo de d칩nde lo gastes. Cuando compras en una cadena, la mayor parte se va inmediato. A oficinas corporativas, accionistas, a bancos lejanos. Pero cuando compras en un negocio local, su dinero se queda aqu칤 mismo. Paga al cajero de la panader칤a, ayuda a los emprendedores a cubrir la renta, mantiene abierto los negocios del pueblo. Ese dinero circula de mano en mano fortaleciendo a toda la comunidad.",
                allCategories: "Todas las Categor칤as",
                allSubcategories: "Todas las Subcategor칤as",
                vendors: "vendedores",
                vendor: "vendedor"
            }
        };

        const vendors = [
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Diary & eggs", es: "L치cteos y huevos" },
                product: { en: "Milk", es: "Leche" },
                name: "Reina",
                phone: "+506 8326 1696"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Diary & eggs", es: "L치cteos y huevos" },
                product: { en: "Cheese", es: "Queso" },
                name: "Reina",
                phone: "+506 8326 1696"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Diary & eggs", es: "L치cteos y huevos" },
                product: { en: "Yoghurt", es: "Yogurt" },
                name: "Anna",
                phone: "+506 8728 6113"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Beverages", es: "Bebidas" },
                product: { en: "Fermented beverages", es: "Refrescos fermentados" },
                name: "Tomas",
                phone: "+506 8533 7902"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Beverages", es: "Bebidas" },
                product: { en: "Organic tea", es: "Tes org치nicos" },
                name: "Lena",
                phone: "+506 8326 1696"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Meat & poultry", es: "Carnes y aves" },
                product: { en: "Chicken & Chicken dinners", es: "Pollo y Cena con pollo" },
                name: "Ana",
                phone: "+506 8862 4019"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Diary & eggs", es: "L치cteos y huevos" },
                product: { en: "Eggs", es: "Huevos" },
                name: "Lena",
                phone: "+506 8326 1696"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Baked goods", es: "Reposter칤a" },
                product: { en: "Sweet cakes", es: "Pasteles dulces" },
                name: "Mayra",
                phone: "+506 8838 5364"
            },
            {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Produce", es: "Productos frescos" },
                product: { en: "Oyster mushrooms", es: "Hongos tipo Ostra" },
                name: "Michael",
                phone: "+506 8709 0777"
            },
             {
                category: { en: "Food & Beverages", es: "Comida y Bebidas" },
                subcategory: { en: "Preserved & Prepared foods", es: "Alimentos Preservados y Preparados" },
                product: { en: "Spicy sauces", es: "Salsas picantes" },
                name: "Viktor",
                phone: "+49 1578 5593672"
            },
            {
                category: { en: "Personal care", es: "Cuidado personal" },
                subcategory: { en: "Hygiene", es: "Higiene" },
                product: { en: "Soap", es: "Jab칩n" },
                name: "Hannah",
                phone: "+506 8876 3750"
            },
            {
                category: { en: "Personal care", es: "Cuidado personal" },
                subcategory: { en: "Natural remedies", es: "Remedios naturales" },
                product: { en: "Insect repellent", es: "Repelentes naturales" },
                name: "Lena",
                phone: "+506 8326 1696"
            },
            {
                category: { en: "Personal care", es: "Cuidado personal" },
                subcategory: { en: "Hygiene", es: "Higiene" },
                product: { en: "Toothpaste", es: "Pasta de dientes" },
                name: "Lena",
                phone: "+506 8326 1696"
            },
            {
                category: { en: "Services", es: "Servicios" },
                subcategory: { en: "Sewing", es: "Costura" },
                product: { en: "Clothing & Repairs", es: "Ropa y Reparaciones" },
                name: "Katia",
                phone: "+506 8875 2424"
            },
            {
                category: { en: "Services", es: "Servicios" },
                subcategory: { en: "Mechanic", es: "Mec치nico" },
                product: { en: "Vehicle repair", es: "Reparaci칩n de veh칤culos" },
                name: "Eduardo",
                phone: "+506 8927 5198"
            },
            {
                category: { en: "Services", es: "Servicios" },
                subcategory: { en: "Mechanic", es: "Mec치nico" },
                product: { en: "Bicycle & Motorcycle repair", es: "Reparaci칩n de bici y moto" },
                name: "Jose",
                phone: "+506 8935 3561"
            },
            {
                category: { en: "Services", es: "Servicios" },
                subcategory: { en: "Cleaning", es: "Limpieza" },
                product: { en: "Washing of vehicles", es: "Lavado de veh칤culos" },
                name: "Josu칟",
                phone: "+506 8646 2590"
            },
            {
                category: { en: "Services", es: "Servicios" },
                subcategory: { en: "Personal services", es: "Servicios personales" },
                product: { en: "Yoga & Meditation", es: "Yoga y Meditaci칩n" },
                name: "Kay",
                phone: "+506 8515 1301"
            },
            {
                category: { en: "Handmade crafts", es: "Artesan칤as" },
                subcategory: { en: "Jewelry", es: "Joyas" },
                product: { en: "Rings from cutlery", es: "Anillos de cubiertos" },
                name: "Matthijs",
                phone: "+31 6 2448 9089"
            },
            {
                category: { en: "Handmade crafts", es: "Artesan칤as" },
                subcategory: { en: "Jewelry", es: "Joyas" },
                product: { en: "Rope bracelets & Necklaces", es: "Pulseras y Collares de soga" },
                name: "Yuritza",
                phone: "+505 8564 0092"
            }
        ];

        function switchLanguage(lang) {
            currentLang = lang;
            
            document.querySelectorAll('.lang-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.getElementById('title').textContent = translations[lang].title;
            document.getElementById('subtitleTitle').textContent = translations[lang].subtitleTitle;
            document.getElementById('subtitleText').textContent = translations[lang].subtitleText;
            
            buildCategoryFilter();
            filterVendors();
        }

        function buildCategoryFilter() {
            const categoryFilter = document.getElementById('categoryFilter');
            const categories = [...new Set(vendors.map(v => v.category[currentLang]))].sort();
            
            categoryFilter.innerHTML = `<option value="all">${translations[currentLang].allCategories}</option>`;
            categories.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat;
                option.textContent = cat;
                categoryFilter.appendChild(option);
            });
        }

        function buildSubcategoryFilter(category) {
            const subcategoryFilter = document.getElementById('subcategoryFilter');
            
            if (category === 'all') {
                subcategoryFilter.style.display = 'none';
                return;
            }
            
            const filteredVendors = vendors.filter(v => v.category[currentLang] === category);
            const subcategories = [...new Set(filteredVendors.map(v => v.subcategory[currentLang]))].sort();
            
            subcategoryFilter.innerHTML = `<option value="all">${translations[currentLang].allSubcategories}</option>`;
            subcategories.forEach(subcat => {
                const option = document.createElement('option');
                option.value = subcat;
                option.textContent = subcat;
                subcategoryFilter.appendChild(option);
            });
            
            subcategoryFilter.style.display = 'block';
        }

        function filterVendors() {
            const categoryValue = document.getElementById('categoryFilter').value;
            const subcategoryValue = document.getElementById('subcategoryFilter').value;
            
            // If category changed, rebuild subcategory filter and reset it
            if (categoryValue !== selectedCategory) {
                selectedCategory = categoryValue;
                buildSubcategoryFilter(categoryValue);
            }
            
            let filtered = vendors;
            
            // Filter by category
            if (categoryValue !== 'all') {
                filtered = filtered.filter(v => v.category[currentLang] === categoryValue);
            }
            
            // Filter by subcategory
            if (subcategoryValue !== 'all' && categoryValue !== 'all') {
                filtered = filtered.filter(v => v.subcategory[currentLang] === subcategoryValue);
            }
            
            const countText = filtered.length === 1 
                ? `1 ${translations[currentLang].vendor}`
                : `${filtered.length} ${translations[currentLang].vendors}`;
            document.getElementById('count').textContent = countText;
            
            document.getElementById('vendorList').innerHTML = filtered.map(v => {
                // Format phone for WhatsApp (remove spaces and keep +)
                const whatsappPhone = v.phone.replace(/\s/g, '');
                
                return `
                <div class="vendor">
                    <div class="vendor-name">${v.product[currentLang]}</div>
                    <div class="vendor-category">${v.subcategory[currentLang]}</div>
                    <div class="vendor-product">${v.name}</div>
                    <div class="vendor-contact">
                        <span class="phone">游 ${v.phone}</span>
                        <a href="https://wa.me/${whatsappPhone}" class="whatsapp">游눫 WhatsApp</a>
                    </div>
                </div>
                `;
            }).join('');
        }

        // Initialize
        buildCategoryFilter();
        filterVendors();
    </script>
</body>
</html>
